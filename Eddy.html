<!DOCTYPE html>
<html>
<head>
    <title>Text Editor with Undo</title>
</head>
<body>
    <h2>Input Your Text Here:</h2>
    <textarea id="userInput" rows="4" cols="50"></textarea>
    <br>
    <button onclick="applyBold()">Make Bold</button>
    <button onclick="undoLastAction()">Undo</button>
    <h2>Formatted Text:</h2>
    <div id="displayArea" style="border: 1px solid #ccc; padding: 10px; min-height: 50px;"></div>

    <script>
        let history = []; // To store history for undo functionality

        function applyBold() {
            let userInput = document.getElementById("userInput");
            let displayArea = document.getElementById("displayArea");
            let selectedText = getSelectionText();

            if (selectedText) {
                let newText = userInput.value.replace(selectedText, `<b>${selectedText}</b>`);
                history.push(userInput.value); // Save current state before applying the bold
                userInput.value = newText;
                updateDisplayArea();
            }
        }

        function getSelectionText() {
            let textArea = document.getElementById('userInput');
            let startPos = textArea.selectionStart;
            let endPos = textArea.selectionEnd;
            return textArea.value.substring(startPos, endPos);
        }

        function updateDisplayArea() {
            let userInput = document.getElementById("userInput");
            document.getElementById("displayArea").innerHTML = userInput.value;
        }

        function undoLastAction() {
            if (history.length > 0) {
                let userInput = document.getElementById("userInput");
                let previousState = history.pop(); // Get the last state
                userInput.value = previousState;
                updateDisplayArea();
            }
        }
    </script>
</body>
</html>
